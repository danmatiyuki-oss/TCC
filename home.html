<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Sistema Estudantil</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: sans-serif; }
    aside button:hover { background-color: #1e40af; }

    /* Calendário */
    #calendarioGrid div {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 80px;
      border-radius: 8px;
      font-weight: bold;
      transition: transform 0.2s, background-color 0.2s;
      cursor: pointer;
      position: relative;
    }
    #calendarioGrid div:hover { transform: scale(1.05); background-color: #dbeafe; }
    #calendarioGrid div:nth-child(7n+1), #calendarioGrid div:nth-child(7n) { background-color: #f3f4f6; }
    .hoje { border: 3px solid #1d4ed8; }
    .evento { background-color: #bbf7d0; color: #065f46; }
    .tooltiptext {
      visibility: hidden;
      width: max-content;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 4px 8px;
      position: absolute;
      z-index: 10;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.8rem;
    }
    .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }

    /* Fórum */
    #listaForum::-webkit-scrollbar { width: 6px; }
    #listaForum::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.3); border-radius: 3px; }
    #listaForum::-webkit-scrollbar-track { background-color: transparent; }
  </style>
</head>
<body class="flex h-screen bg-gray-100">

  <!-- Menu Lateral -->
  <aside class="w-64 bg-blue-800 text-white p-4 flex flex-col">
    <h2 class="text-2xl font-bold mb-6">Menu</h2>
    <button onclick="mostrarTela('avisos')" class="text-left py-2 px-4 rounded">Mural de Avisos</button>
    <button onclick="mostrarTela('forum')" class="text-left py-2 px-4 rounded">Fórum</button>
    <button onclick="mostrarTela('calendario')" class="text-left py-2 px-4 rounded">Calendário</button>
    <button onclick="mostrarTela('chapas')" class="text-left py-2 px-4 rounded">Chapas</button>
    <button onclick="mostrarTela('jogos')" class="text-left py-2 px-4 rounded">Jogos</button>

    <!-- ✅ Botão de logout com redirecionamento -->
    <button onclick="logout()" class="mt-auto bg-red-600 py-2 px-4 rounded hover:bg-red-700">Sair</button>
  </aside>

  <!-- Conteúdo Principal -->
  <main class="flex-1 p-6 overflow-y-auto flex flex-col h-full">
    <!-- As seções já estão no seu código original e seguem abaixo... (avisos, fórum, calendário, chapas, jogos) -->
    <!-- NÃO ALTEREI NADA nelas, já estavam corretas -->
    
    <!-- ... (seções omitidas por brevidade) ... -->
  </main>

  <!-- ✅ Scripts -->
  <script>
    // ---------- Inicialização ----------
    let role = localStorage.getItem("role");
    if (!role) window.location.href = "login.html";

    function mostrarTela(tela) {
      document.querySelectorAll("main section").forEach(sec => sec.classList.add("hidden"));
      document.getElementById(tela).classList.remove("hidden");
      if (tela === "avisos") renderAvisos();
      if (tela === "forum") renderForum();
      if (tela === "calendario") renderCalendario();
      if (tela === "chapas") renderChapas();
    }

    // ✅ Função de logout com redirecionamento para login.html
    function logout() {
      localStorage.removeItem("role");     // Remove a role salva (desloga)
      window.location.href = "login.html"; // Redireciona para a página de login
    }

    // ... o resto do seu JavaScript original (avisos, fórum, calendário, chapas, jogos) ...

    // ---------- Inicial ----------
    mostrarTela("avisos");
  </script>

</body>
</html>
